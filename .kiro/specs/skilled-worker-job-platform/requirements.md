# 要件ドキュメント

## 概要

特定技能の求人プラットフォームのPoC（Proof of Concept）を開発します。このプラットフォームは、フロントエンドのみで動作し、カスタマー（求職者）と企業（クライアント）の両方に対応した求人サービスを提供します。バックエンドは使用せず、LocalStorageを使用してデータを管理し、VercelにSPAとしてデプロイします。

## 要件

### 要件1

**ユーザーストーリー:** カスタマー（求職者）として、求人一覧を閲覧したいので、条件に合った仕事を見つけることができる

#### 受入基準

1. WHEN カスタマーが /jobs ページを開く THEN システムは求人一覧を表示する
2. WHEN カスタマーがクエリパラメータ（q/industry/pref/jlpt）を指定する THEN システムは条件に合った求人のみを表示する
3. WHEN 検索結果が0件の場合 THEN システムはエンプティ状態を表示する
4. WHEN 検索条件を変更する THEN システムはURLクエリパラメータと同期して一覧を更新する

### 要件2

**ユーザーストーリー:** カスタマー（求職者）として、求人の詳細情報を確認したいので、応募するかどうかを判断できる

#### 受入基準

1. WHEN カスタマーが求人一覧から任意の求人を選択する THEN システムは /jobs/:id ページに遷移する
2. WHEN 求人詳細ページが表示される THEN システムはタイトル、会社名、勤務地、JLPT要件、給与、仕事内容を表示する
3. WHEN 存在しない求人IDでアクセスする THEN システムは404エラーページを表示する

### 要件3

**ユーザーストーリー:** カスタマー（求職者）として、興味のある求人に応募したいので、企業に自分の情報を伝えることができる

#### 受入基準

1. WHEN カスタマーが求人詳細ページから応募ボタンをクリックする THEN システムは /apply/:id ページに遷移する
2. WHEN 応募フォームで氏名、連絡先、在留資格、JLPT、同意事項を入力して送信する THEN システムは応募情報をlocalStorage['applications']に保存する
3. WHEN 応募が完了する THEN システムはサンクスページを表示する
4. WHEN 応募データを保存する THEN システムはjobIdで求人と紐付けて保存する

### 要件4

**ユーザーストーリー:** 企業（クライアント）として、求人を投稿したいので、適切な人材を募集できる

#### 受入基準

1. WHEN クライアントが /client/jobs/new ページを開く THEN システムは求人投稿フォームを表示する
2. WHEN タイトル、業種、勤務地、JLPT下限、給与、仕事内容、公開状態を入力して送信する THEN システムは求人をlocalStorage['cl_jobs']に保存する
3. WHEN 求人投稿が完了する THEN システムは /client/jobs ページにリダイレクトし、投稿した求人を表示する
4. WHEN 公開状態がONの求人 THEN システムは /jobs ページでも表示する

### 要件5

**ユーザーストーリー:** 企業（クライアント）として、自社求人の公開状態を管理したいので、募集状況に応じて調整できる

#### 受入基準

1. WHEN クライアントが /client/jobs ページを開く THEN システムは自社投稿求人の一覧を表示する
2. WHEN 任意求人の公開トグルを操作する THEN システムは表示状態を即時反映する
3. WHEN 公開状態を変更する THEN システムはlocalStorageに永続化する
4. WHEN 公開状態を非公開に変更する THEN システムは /jobs ページから該当求人を非表示にする

### 要件6

**ユーザーストーリー:** 企業（クライアント）として、応募者の管理をしたいので、採用プロセスを効率的に進められる

#### 受入基準

1. WHEN クライアントが /client/applicants ページを開く THEN システムは応募者一覧を表示する
2. WHEN 任意応募のステータスを変更する THEN システムはnew、screening、interview、offer、rejectedのいずれかに設定できる
3. WHEN ステータスを変更する THEN システムは一覧に即時反映し、localStorageに永続化する
4. WHEN 応募者情報を表示する THEN システムは応募者の基本情報と応募した求人情報を表示する

### 要件7

**ユーザーストーリー:** すべてのユーザーとして、エラーが発生した際に適切な情報を得たいので、問題を理解し適切な行動を取れる

#### 受入基準

1. WHEN 不正なURLにアクセスする THEN システムは404エラーページを表示する
2. WHEN データ取得に失敗する THEN システムは簡易なエラーメッセージを表示する
3. WHEN エラーページが表示される THEN システムは戻り導線を提供する
4. WHEN ローディング中 THEN システムはローディング状態を表示する

### 要件8

**ユーザーストーリー:** すべてのユーザーとして、様々なデバイスでアクセスしたいので、快適に利用できる

#### 受入基準

1. WHEN モバイルデバイスでアクセスする THEN システムはレスポンシブレイアウトで表示する
2. WHEN PCでアクセスする THEN システムは適切なレイアウトで表示する
3. WHEN 主要解像度でアクセスする THEN システムはレイアウトが破綻しない
4. WHEN タッチデバイスで操作する THEN システムは適切なタッチターゲットサイズを提供する

### 要件9

**ユーザーストーリー:** すべてのユーザーとして、個人情報の取り扱いについて安心したいので、適切なプライバシー保護を受けられる

#### 受入基準

1. WHEN 個人情報を入力する THEN システムは外部に送信しない
2. WHEN データを保存する THEN システムはlocalStorageのみを使用する
3. WHEN アプリケーションを使用する THEN システムは一時保存である旨を明示する
4. WHEN データを管理する THEN システムはブラウザローカルでのみ処理する

### 要件10

**ユーザーストーリー:** 開発者として、アプリケーションをデプロイしたいので、ユーザーがアクセスできる

#### 受入基準

1. WHEN アプリケーションをビルドする THEN システムはSPAとして動作する
2. WHEN Vercelにデプロイする THEN システムはすべてのリクエストを/index.htmlにリライトする
3. WHEN 初期データを提供する THEN システムは/public/mock/jobs.jsonに10件以上の求人データを保持する
4. WHEN データを統合する THEN システムは初期JSONとlocalStorageの求人をマージして表示する
(()=>{var e={};e.id=642,e.ids=[642],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7703:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),i=s.n(n),l=s(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["apply",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8042)),"/Users/yasuhiro_kubota/practice/ssw_pf/app/apply/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6636)),"/Users/yasuhiro_kubota/practice/ssw_pf/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,429)),"/Users/yasuhiro_kubota/practice/ssw_pf/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,3293)),"/Users/yasuhiro_kubota/practice/ssw_pf/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,1429)),"/Users/yasuhiro_kubota/practice/ssw_pf/app/not-found.tsx"]}],c=["/Users/yasuhiro_kubota/practice/ssw_pf/app/apply/[id]/page.tsx"],u="/apply/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/apply/[id]/page",pathname:"/apply/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2374:(e,t,s)=>{Promise.resolve().then(s.bind(s,4301))},4301:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ApplyJobClient:()=>m});var r=s(5344),a=s(3729),n=s(6212),i=s(6680),l=s(2549),o=s(7470),d=s(3601);let c=({jobTitle:e,jlptLevels:t,onSubmit:s})=>{let[c,u]=(0,a.useState)({candidateName:"",contactEmail:"",contactPhone:"",residenceStatus:"",jlptLevel:"",experienceYears:"",message:"",consentToShare:!1}),[p,x]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[f,h]=(0,a.useState)(!1),b=async e=>{if(e.preventDefault(),x(null),!c.candidateName.trim()){x("氏名を入力してください。");return}if(!c.contactEmail.trim()){x("メールアドレスを入力してください。");return}if(!c.residenceStatus.trim()){x("在留資格を入力してください。");return}if(!c.jlptLevel){x("JLPTレベルを選択してください。");return}if(!c.consentToShare){x("個人情報の取り扱いに同意してください。");return}g(!0);try{await s(c),h(!0)}catch(e){x("応募の送信に失敗しました。時間をおいて再度お試しください。"),console.error(e)}finally{g(!1)}};return f?(0,r.jsxs)("div",{className:"space-y-4 rounded-xl border border-primary/30 bg-primary/10 p-8 text-center",children:[r.jsx("p",{className:"text-2xl font-semibold text-primary",children:"応募を受け付けました"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e," への応募ありがとうございます。採用担当者よりご連絡があるまでお待ちください。"]})]}):(0,r.jsxs)("form",{onSubmit:b,className:"space-y-6 rounded-xl border border-border bg-card p-8 shadow-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-lg font-semibold text-foreground",children:"応募フォーム"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"すべての必須項目を入力して送信してください。"})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["氏名",r.jsx("span",{className:"ml-1 text-red-500",children:"*"}),r.jsx(l.I,{value:c.candidateName,onChange:e=>u(t=>({...t,candidateName:e.target.value})),placeholder:"例: 山田 太郎"})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["メールアドレス",r.jsx("span",{className:"ml-1 text-red-500",children:"*"}),r.jsx(l.I,{type:"email",value:c.contactEmail,onChange:e=>u(t=>({...t,contactEmail:e.target.value})),placeholder:"example@email.com"})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["電話番号",r.jsx(l.I,{type:"tel",value:c.contactPhone,onChange:e=>u(t=>({...t,contactPhone:e.target.value})),placeholder:"ハイフンなしで入力"})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["在留資格",r.jsx("span",{className:"ml-1 text-red-500",children:"*"}),r.jsx(l.I,{value:c.residenceStatus,onChange:e=>u(t=>({...t,residenceStatus:e.target.value})),placeholder:"例: 特定技能1号"})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["JLPT レベル",r.jsx("span",{className:"ml-1 text-red-500",children:"*"}),(0,r.jsxs)(o.P,{value:c.jlptLevel,onChange:e=>u(t=>({...t,jlptLevel:e.target.value})),children:[r.jsx("option",{value:"",children:"選択してください"}),t.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["実務経験年数",r.jsx(l.I,{type:"number",min:0,value:c.experienceYears,onChange:e=>u(t=>({...t,experienceYears:e.target.value})),placeholder:"例: 3"})]})]}),(0,r.jsxs)("label",{className:"space-y-2 text-sm text-muted-foreground",children:["志望動機や自己PR",r.jsx(d.g,{value:c.message,onChange:e=>u(t=>({...t,message:e.target.value})),rows:5,placeholder:"志望の理由やこれまでの経験などを記入してください。"})]}),r.jsx(i.X,{checked:c.consentToShare,onChange:e=>u(t=>({...t,consentToShare:e.target.checked})),label:(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-semibold text-foreground",children:"個人情報の取り扱い"})," に同意します。応募情報は企業と共有されることに同意します。"]})}),p&&r.jsx("p",{className:"text-sm font-medium text-destructive",children:p}),r.jsx(n.Button,{type:"submit",size:"lg",loading:m,className:"w-full md:w-auto",children:"応募内容を送信する"})]})};var u=s(9436),p=s(1080),x=s(9632);let m=({job:e})=>{let[t,s]=(0,a.useState)(e),n=(0,a.useMemo)(()=>x.g.jlptLevels(),[]);(0,a.useEffect)(()=>{let t=x.g.findById(e.id);t&&s(t)},[e.id]);let i=async e=>{p.h.create({jobId:t.id,candidateName:e.candidateName,contactEmail:e.contactEmail,contactPhone:e.contactPhone,residenceStatus:e.residenceStatus,jlptLevel:e.jlptLevel||t.jlptLevel,experienceYears:e.experienceYears?Number(e.experienceYears):void 0,message:e.message,consentToShare:e.consentToShare})};return(0,r.jsxs)("div",{className:"container grid gap-10 py-12 lg:grid-cols-[2fr_1fr]",children:[r.jsx(c,{jobTitle:t.title,jlptLevels:n,onSubmit:i}),(0,r.jsxs)("aside",{className:"space-y-6 rounded-xl border border-border bg-card p-6 shadow-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"応募求人"}),r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:t.title}),r.jsx("p",{className:"text-sm text-muted-foreground",children:t.company.name})]}),(0,r.jsxs)("div",{className:"space-y-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"勤務地"}),(0,r.jsxs)("p",{className:"mt-1",children:[t.location.prefecture," ",t.location.city]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"必要条件"}),(0,r.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,r.jsxs)("li",{children:["JLPT ",t.jlptLevel," 以上"]}),t.requirements[0]&&r.jsx("li",{children:t.requirements[0]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"キーワード"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:t.tags.map(e=>(0,r.jsxs)(u.C,{variant:"outline",children:["#",e]},e))})]})]})]})]})}},6680:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(5344),a=s(3729),n=s(1453);let i=(0,a.forwardRef)(({className:e,label:t,...s},a)=>(0,r.jsxs)("label",{className:(0,n.cn)("flex items-start gap-3 text-sm text-foreground",e),children:[r.jsx("input",{ref:a,type:"checkbox",className:"mt-1 h-4 w-4 rounded border border-input bg-background text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",...s}),t&&r.jsx("span",{className:"leading-relaxed text-muted-foreground",children:t})]}));i.displayName="Checkbox"},2549:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(5344),a=s(3729),n=s(1453);let i=(0,a.forwardRef)(({className:e,type:t="text",...s},a)=>r.jsx("input",{ref:a,type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s}));i.displayName="Input"},7470:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(5344),a=s(3729),n=s(1453);let i=(0,a.forwardRef)(({className:e,children:t,...s},a)=>r.jsx("select",{ref:a,className:(0,n.cn)("flex h-10 w-full appearance-none rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:t}));i.displayName="Select"},3601:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(5344),a=s(3729),n=s(1453);let i=(0,a.forwardRef)(({className:e,rows:t=4,...s},a)=>r.jsx("textarea",{ref:a,rows:t,className:(0,n.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s}));i.displayName="Textarea"},1080:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var r=s(2675),a=s(5658),n=s(9990),i=s(3608);class l{constructor(e=i.Hw){this.storage=e}readRecord(){let e=this.storage.get(r.I.applications);if(e&&e.version===r.Z)return e;let t={version:r.Z,data:e?.data??[],updatedAt:new Date().toISOString()};if(this.storage.isAvailable)try{this.storage.set(r.I.applications,t)}catch(e){console.error(e)}return t}writeRecord(e){let t={version:r.Z,data:e,updatedAt:new Date().toISOString()};try{this.storage.set(r.I.applications,t)}catch(e){throw(0,a.l)("APPLICATION_SAVE_FAILED","応募データの保存に失敗しました。",void 0,e)}}list(e){let t=this.readRecord().data;return e?t.filter(t=>t.jobId===e):t}findById(e){return this.readRecord().data.find(t=>t.id===e)??null}create(e){let t=new Date().toISOString(),s={...e,id:(0,n.O)("app"),status:e.status??"new",submittedAt:t,updatedAt:t},r=this.readRecord();return this.writeRecord([s,...r.data]),s}update(e,t){let s=this.readRecord(),r=s.data.findIndex(t=>t.id===e);if(-1===r)throw(0,a.l)("APPLICATION_NOT_FOUND","指定された応募が見つかりません。");let n={...s.data[r],...t,status:t.status??s.data[r].status,updatedAt:new Date().toISOString()},i=[...s.data];return i[r]=n,this.writeRecord(i),n}updateStatus(e,t){return this.update(e,{status:t})}summaryByJob(e,t=""){let s=this.list(e),r=s.reduce((e,t)=>(e[t.status]=(e[t.status]??0)+1,e),{new:0,screening:0,interview:0,offer:0,rejected:0});return{jobId:e,jobTitle:t,totalApplicants:s.length,groupedByStatus:r}}}let o=new l},8042:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p,generateStaticParams:()=>u});var r=s(5036),a=s(867),n=s(6843);let i=(0,n.createProxy)(String.raw`/Users/yasuhiro_kubota/practice/ssw_pf/components/applications/apply-job-client.tsx`),{__esModule:l,$$typeof:o}=i;i.default;let d=(0,n.createProxy)(String.raw`/Users/yasuhiro_kubota/practice/ssw_pf/components/applications/apply-job-client.tsx#ApplyJobClient`);var c=s(7117);function u(){return c.$.map(e=>({id:e.id}))}let p=({params:e})=>{let t=c.$.find(t=>t.id===e.id);return t||(0,a.notFound)(),r.jsx(d,{job:t})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[897,867,512,421],()=>s(7703));module.exports=r})();
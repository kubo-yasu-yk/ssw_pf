(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{4041:function(e,t,r){Promise.resolve().then(r.bind(r,446))},446:function(e,t,r){"use strict";r.r(t);var s=r(3827),a=r(8792),l=r(4090),n=r(7939),i=r(5754),d=r(3326),o=r(4014);t.default=()=>{let{jobs:e}=(0,o.C)({initialFilters:{isPublished:void 0}}),{applications:t}=(0,d.o)(),r=(0,l.useMemo)(()=>{let r=e.filter(e=>e.isPublished).length,s=e.length-r;return{published:r,draft:s,totalApplicants:t.length,byStatus:t.reduce((e,t)=>{var r;return e[t.status]=(null!==(r=e[t.status])&&void 0!==r?r:0)+1,e},{})}},[e,t]);return(0,s.jsx)(n.n,{children:(0,s.jsxs)("div",{className:"container space-y-12 py-12",children:[(0,s.jsx)("section",{className:"rounded-xl border border-border bg-card p-10 shadow-sm",children:(0,s.jsxs)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-semibold uppercase tracking-wide text-muted-foreground",children:"企業ダッシュボード"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"求人と応募をまとめて管理"}),(0,s.jsx)("p",{className:"max-w-2xl text-sm text-muted-foreground",children:"求人の公開・停止、応募状況の確認、応募者のステータス更新をこのダッシュボードから行えます。"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)(a.default,{href:"/client/jobs/new",children:(0,s.jsx)(i.Button,{children:"新しい求人を作成"})}),(0,s.jsx)(a.default,{href:"/client/applicants",children:(0,s.jsx)(i.Button,{variant:"outline",children:"応募者一覧を見る"})})]})]})}),(0,s.jsxs)("section",{className:"grid gap-6 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-muted-foreground",children:"公開中の求人"}),(0,s.jsx)("p",{className:"mt-3 text-4xl font-bold text-foreground",children:r.published}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["下書き: ",r.draft," 件"]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-muted-foreground",children:"累計応募数"}),(0,s.jsx)("p",{className:"mt-3 text-4xl font-bold text-foreground",children:r.totalApplicants}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"応募はリアルタイムで更新されます"})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-border bg-card p-6 shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-muted-foreground",children:"ステータス別"}),(0,s.jsx)("ul",{className:"mt-3 space-y-1 text-xs text-muted-foreground",children:["new","screening","interview","offer","rejected"].map(e=>{var t;return(0,s.jsxs)("li",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"new"===e?"新規":"screening"===e?"書類選考":"interview"===e?"面接":"offer"===e?"内定":"不採用"}),(0,s.jsx)("span",{className:"font-semibold text-foreground",children:null!==(t=r.byStatus[e])&&void 0!==t?t:0})]},e)})})]})]}),(0,s.jsx)("section",{className:"grid gap-6 md:grid-cols-3",children:[{title:"求人一覧",description:"公開中・下書きの求人を確認し、公開状態を切り替えます。",href:"/client/jobs",action:"求人管理へ"},{title:"応募者管理",description:"応募者のステータス更新や連絡先の確認を行います。",href:"/client/applicants",action:"応募者管理へ"},{title:"新規求人作成",description:"フォームから求人情報を登録し、すぐに公開できます。",href:"/client/jobs/new",action:"求人を作成"}].map(e=>(0,s.jsxs)("article",{className:"flex flex-col justify-between rounded-xl border border-border bg-card p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-foreground",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),(0,s.jsx)(a.default,{href:e.href,className:"mt-6 inline-flex items-center text-sm font-semibold text-primary hover:text-primary/80",children:e.action})]},e.href))})]})})}},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(5250),a=r.n(s)},3326:function(e,t,r){"use strict";r.d(t,{o:function(){return l}});var s=r(4090),a=r(8140);let l=function(){let{jobId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,s.useState)([]),[l,n]=(0,s.useState)(!0),[i,d]=(0,s.useState)(null),o=(0,s.useCallback)(()=>{try{n(!0);let t=a.h.list(e);r(t),d(null)}catch(e){console.error(e),d("応募者情報の取得に失敗しました。")}finally{n(!1)}},[e]);return(0,s.useEffect)(()=>{o()},[o]),{applications:t,isLoading:l,error:i,reload:o,create:(0,s.useCallback)(e=>{let t=a.h.create(e);return r(e=>[t,...e]),t},[]),updateStatus:(0,s.useCallback)((e,t)=>{let s=a.h.updateStatus(e,t);return r(t=>t.map(t=>t.id===e?s:t)),s},[])}}},4014:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(4090),a=r(605);let l=function(){let{initialFilters:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,s.useState)([]),[l,n]=(0,s.useState)({isPublished:!0,...e}),[i,d]=(0,s.useState)(!0),[o,c]=(0,s.useState)(null),[u,f]=(0,s.useState)(()=>a.g.industries()),[h,x]=(0,s.useState)(()=>a.g.prefectures()),m=(0,s.useCallback)(()=>{try{d(!0);let e=a.g.list(l);r(e),f(a.g.industries()),x(a.g.prefectures()),c(null)}catch(e){console.error(e),c("求人情報の取得に失敗しました。")}finally{d(!1)}},[l]);(0,s.useEffect)(()=>{m()},[m]);let p=(0,s.useCallback)(e=>{try{let t=a.g.create(e);return r(e=>[t,...e]),f(a.g.industries()),x(a.g.prefectures()),t}catch(e){throw console.error(e),e}},[]),g=(0,s.useCallback)((e,t)=>{let s=a.g.update(e,t);return r(t=>t.map(t=>t.id===e?s:t)),f(a.g.industries()),x(a.g.prefectures()),s},[]),b=(0,s.useCallback)(e=>{let t=a.g.togglePublish(e.id);return r(r=>r.map(r=>r.id===e.id?t:r)),f(a.g.industries()),x(a.g.prefectures()),t},[]);return{jobs:t,filters:l,setFilters:n,isLoading:i,error:o,reload:m,createJob:p,updateJob:g,togglePublish:b,industries:(0,s.useMemo)(()=>u,[u]),prefectures:(0,s.useMemo)(()=>h,[h]),jlptLevels:(0,s.useMemo)(()=>a.g.jlptLevels(),[])}}},8140:function(e,t,r){"use strict";r.d(t,{h:function(){return d}});var s=r(5731),a=r(8112),l=r(8662),n=r(8521);class i{readRecord(){var e;let t=this.storage.get(s.I.applications);if(t&&t.version===s.Z)return t;let r={version:s.Z,data:null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[],updatedAt:new Date().toISOString()};if(this.storage.isAvailable)try{this.storage.set(s.I.applications,r)}catch(e){console.error(e)}return r}writeRecord(e){let t={version:s.Z,data:e,updatedAt:new Date().toISOString()};try{this.storage.set(s.I.applications,t)}catch(e){throw(0,a.l)("APPLICATION_SAVE_FAILED","応募データの保存に失敗しました。",void 0,e)}}list(e){let t=this.readRecord().data;return e?t.filter(t=>t.jobId===e):t}findById(e){var t;return null!==(t=this.readRecord().data.find(t=>t.id===e))&&void 0!==t?t:null}create(e){var t;let r=new Date().toISOString(),s={...e,id:(0,l.O)("app"),status:null!==(t=e.status)&&void 0!==t?t:"new",submittedAt:r,updatedAt:r},a=this.readRecord();return this.writeRecord([s,...a.data]),s}update(e,t){var r;let s=this.readRecord(),l=s.data.findIndex(t=>t.id===e);if(-1===l)throw(0,a.l)("APPLICATION_NOT_FOUND","指定された応募が見つかりません。");let n={...s.data[l],...t,status:null!==(r=t.status)&&void 0!==r?r:s.data[l].status,updatedAt:new Date().toISOString()},i=[...s.data];return i[l]=n,this.writeRecord(i),n}updateStatus(e,t){return this.update(e,{status:t})}summaryByJob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.list(e),s=r.reduce((e,t)=>{var r;return e[t.status]=(null!==(r=e[t.status])&&void 0!==r?r:0)+1,e},{new:0,screening:0,interview:0,offer:0,rejected:0});return{jobId:e,jobTitle:t,totalApplicants:r.length,groupedByStatus:s}}constructor(e=n.Hw){this.storage=e}}let d=new i}},function(e){e.O(0,[250,725,971,69,744],function(){return e(e.s=4041)}),_N_E=e.O()}]);